# Exemple de configuration avancée pour les logs
# Copiez ce fichier vers docker-compose.override.yml pour l'utiliser
# ou modifiez directement docker-compose.yml

services:
  scanner:
    logging:
      driver: "json-file"
      options:
        max-size: "5m"       # Réduire à 5MB par fichier
        max-file: "2"        # Seulement 2 fichiers (total ~10MB)
        compress: "true"
        # Optionnel : limiter les logs au niveau applicatif
        # tag: "{{.Name}}/{{.ID}}"

  ollama:
    logging:
      driver: "json-file"
      options:
        max-size: "5m"
        max-file: "1"        # Seulement 1 fichier pour Ollama (5MB max)
        compress: "true"
        # Optionnel : désactiver certains logs Ollama
        # labels: "disable"

# Alternative : utiliser le driver "local" pour plus de contrôle
# services:
#   scanner:
#     logging:
#       driver: "local"
#       options:
#         max-size: "10m"
#         max-file: "3"
#         compress: "gzip"

